From f01acd5477606d51a6edbed9ab63b1b35bf04b69 Mon Sep 17 00:00:00 2001
From: Tiago Vignatti <tiago.vignatti@intel.com>
Date: Mon, 15 Jul 2013 16:50:27 -0300
Subject: [PATCH 1/8] ozone: Change surface factory API so widgets may resize

---
 ui/base/ozone/surface_factory_ozone.h |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

diff --git a/ui/base/ozone/surface_factory_ozone.h b/ui/base/ozone/surface_factory_ozone.h
index b9e4403..f454fdc 100644
--- a/ui/base/ozone/surface_factory_ozone.h
+++ b/ui/base/ozone/surface_factory_ozone.h
@@ -7,6 +7,7 @@
 
 #include "ui/base/ui_export.h"
 #include "ui/gfx/native_widget_types.h"
+#include "ui/gfx/rect.h"
 
 namespace gfx {
 class VSyncProvider;
@@ -52,9 +53,14 @@ class SurfaceFactoryOzone {
   // Sets up GL bindings for the native surface.
   virtual bool LoadEGLGLES2Bindings() = 0;
 
-  // Tests if the given AcceleratedWidget instance can be resized. (Native
-  // hardware may only support a single fixed size.)
-  // Perhaps, this should be "attempt to resize the accelerated widget"?
+  // If possible attempts to resize the given AcceleratedWidget instance and if
+  // a resize action was performed returns true, otherwise false (native
+  // hardware may only support a single fixed size).
+  virtual bool AttemptToResizeAcceleratedWidget(
+      gfx::AcceleratedWidget w, const gfx::Rect& bounds) = 0;
+  // TODO(vignatti): keeping the old API for downstream compat asked by
+  // rjkroege; he promised to remove as soon as his implementation gets fixed,
+  // but we should take this function API as deprecated for now.
   virtual bool AcceleratedWidgetCanBeResized(gfx::AcceleratedWidget w) = 0;
 
   // Returns a gfx::VsyncProvider for the provided AcceleratedWidget. Note
-- 
1.7.9.5

