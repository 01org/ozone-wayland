From 9f99b070de5aad672db0bb0dc36d95be499b5614 Mon Sep 17 00:00:00 2001
From: Kondapally Kalyan <kalyan.kondapally@intel.com>
Date: Sun, 18 May 2014 21:20:06 +0300
Subject: [PATCH 4/5] Rebase 215893003 to M35.

---
 ui/gl/gl_surface_ozone.cc |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/ui/gl/gl_surface_ozone.cc b/ui/gl/gl_surface_ozone.cc
index 9af032b..575e5d1 100644
--- a/ui/gl/gl_surface_ozone.cc
+++ b/ui/gl/gl_surface_ozone.cc
@@ -73,9 +73,12 @@ scoped_refptr<GLSurface> GLSurface::CreateViewGLSurface(
         SurfaceFactoryOzone::GetInstance()->CreateEGLSurfaceForWidget(window);
     if (!surface_ozone)
       return NULL;
+
+    scoped_ptr<VSyncProvider> vsync_provider =
+        surface_ozone->CreateVSyncProvider();
     scoped_refptr<GLSurfaceOzoneEGL> surface =
         new GLSurfaceOzoneEGL(surface_ozone.Pass());
-    if (!surface->Initialize(surface_ozone->CreateVSyncProvider()))
+    if (!surface->Initialize(vsync_provider.Pass()))
       return NULL;
     return surface;
   } else {
--
1.7.9.5
